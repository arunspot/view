<mainsplash>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            size_hint_y: 0.8
            Image:
                source: 'logos.png'
        BoxLayout:
            size_hint_y:0.1
            Button:
                text: 'Continue'
                on_press: root.manager.current = 'sampleid'
        BoxLayout:
            size_hint_y:0.1
            Button:
                text: 'ShutDown'
                on_press: root.close()

<KeyboardButton@Button>:
    background_color: (0.06, 0.45, 0.45, 1)
    background_normal: ''
    bold: True
    font_size: 20

<entersampleid>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            size_hint_y:0.4
            TextInput:
                id: new_sampleid
                hint_text: "Enter Sample id"
                text: ''
                pos_hint:{'top':0.7}
                multiline: False
                font_size: 30
        BoxLayout:
            id: keyboard
            size_hint_y:0.4
            GridLayout:
                cols: 8
                rows: 5
                spacing: 2
                KeyboardButton:
                    id:1
                    text: "1"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:2
                    text: "2"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:3
                    text: "3"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:4
                    text: "4"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:5
                    text: "5"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:6
                    text: "6"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:7
                    text: "7"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:8
                    text: "8"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:9
                    text: "9"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:10
                    text: "0"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:11
                    text: "A"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:12
                    text: "B"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:13
                    text: "C"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:14
                    text: "D"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:15
                    text: "E"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:16
                    text: "F"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:17
                    text: "G"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:18
                    text: "H"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:19
                    text: "I"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:20
                    text: "J"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:21
                    text: "K"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:22
                    text: "L"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:23
                    text: "M"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:24
                    text: "N"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:25
                    text: "O"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:2
                    text: "P"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:27
                    text: "Q"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:28
                    text: "R"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:29
                    text: "S"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:30
                    text: "T"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:31
                    text: "U"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:32
                    text: "V"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:33
                    text: "W"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:34
                    text: "X"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:35
                    text: "Y"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:36
                    text: "Z"
                    on_press: new_sampleid.text += self.text
                KeyboardButton:
                    id:37
                    text: "-"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:38
                    text: "_"
                    on_press: new_sampleid.text+=self.text
                KeyboardButton:
                    id:39
                    text: "<-"
                    on_press: new_sampleid.text = new_sampleid.text[:-1]
                KeyboardButton:
                    id:40
                    text: "Ent"
                    on_press: root.verify_sampleid()
<enterbatchid>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            size_hint_y:0.4
            TextInput:
                id: new_batchid
                hint_text: "Enter Calibration id"
                text: ''
                pos_hint:{'top':0.7}
                multiline: False
                font_size: 30
        BoxLayout:
            id: keyboard
            size_hint_y:0.4
            GridLayout:
                cols: 8
                rows: 5
                spacing: 2
                KeyboardButton:
                    id:1
                    text: "1"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:2
                    text: "2"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:3
                    text: "3"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:4
                    text: "4"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:5
                    text: "5"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:6
                    text: "6"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:7
                    text: "7"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:8
                    text: "8"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:9
                    text: "9"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:10
                    text: "0"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:11
                    text: "A"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:12
                    text: "B"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:13
                    text: "C"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:14
                    text: "D"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:15
                    text: "E"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:16
                    text: "F"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:17
                    text: "G"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:18
                    text: "H"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:19
                    text: "I"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:20
                    text: "J"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:21
                    text: "K"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:22
                    text: "L"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:23
                    text: "M"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:24
                    text: "N"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:25
                    text: "O"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:26
                    text: "P"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:27
                    text: "Q"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:28
                    text: "R"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:29
                    text: "S"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:30
                    text: "T"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:31
                    text: "U"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:32
                    text: "V"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:33
                    text: "W"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:34
                    text: "X"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:35
                    text: "Y"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:36
                    text: "Z"
                    on_press: new_batchid.text += self.text
                KeyboardButton:
                    id:37
                    text: "-"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:38
                    text: "_"
                    on_press: new_batchid.text+=self.text
                KeyboardButton:
                    id:39
                    text: "<-"
                    on_press: new_batchid.text = new_batchid.text[:-1]
                KeyboardButton:
                    id:40
                    text: "Ent"
                    on_press: root.decode_batchid()

<instruction>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            size_hint_y: 0.1
            Label:
                id: peakratio
                text: ''
                markup: True
        BoxLayout:
            size_hint_y: 0.7
            Image:
                source: 'instruction.png'
        BoxLayout:
            size_hint_y:0.1
            Button:
                text: 'Continue'
                on_press: root.camcapture()
                on_release: root.manager.current = 'resultcard'
        BoxLayout:
            size_hint_y:0.1
            Button:
                text: 'ShutDown'
                on_press: root.close()

<resultcardtest>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (0.06, 0.45, 0.45, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            size_hint_y: 0.9
            orientation: 'vertical'
            BoxLayout:
                size_hint_y: 0.1
                Label:
                    text: "RESULTS"
                    bold: True
            BoxLayout:
                size_hint_y: 0.1
                Label:
                    id: date
                    text: ""
                    markup: True
                Label:
                    id: time
                    text: ""
                    markup: True
            BoxLayout:
                size_hint_y: 0.1
                Label:
                    text: "SAMPLE ID:"
                Label:
                    id:sample_id
                    text: ""
                    markup:True
            BoxLayout:
                size_hint_y: 0.1
                Label:
                    text: "TEST:"
                Label:
                    text: "CRP (ng/ml)"
            BoxLayout:
                size_hint_y: 0.1
                Label:
                    text: "BATCH CODE:"
                Label:
                    id: batchid
                    text: ""
                    markup: True
            BoxLayout:
                size_hint_y: 0.1
                Label:
                    text: "VALUE:"
                    bold: True
                Label:
                    id: results
                    text: ""
                    markup: True
                    bold: True
            BoxLayout:
                size_hint_y: 0.1
                Button:
                    text: "Save Results"
                    on_press: root.saveresults()
                Button:
                    text: "Discard"
                    on_press: root.discardresults()
        BoxLayout:
            size_hint_y:0.1
            Button:
                text: 'Update Results'
                on_press: root.getresults()

<resultview>:
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Rectangle:
                size: self.size
                pos: self.pos
        Button:
            size_hint_y:0.2
            text: "Get data"
            on_press: root.get_data()
        RecycleView:
            size_hint_y:0.7
            data: [{'text':"Sample_Id:{} Calibration_Id:{} TimeStamp:{} Value:{}".format(Sample_Id,Calibration_Id,TimeStamp,Value)} for Sample_Id,Calibration_Id,TimeStamp,Value in root.rows]
            viewclass: "Label"
            RecycleBoxLayout:
                default_size: None, dp(56)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
        BoxLayout:
            size_hint_y:0.1
            Button:
                text: 'ShutDown'
                on_press: root.close()
